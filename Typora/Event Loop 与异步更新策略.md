### 目的

减少 DOM 操作、避免过度渲染

### Event Loop 中的“渲染时机”

#### Micro-Task 与 Macro-Task

事件循环中的异步队列有两种： micro（微任务）队列和 macro（宏任务）队列

**一次事件循环**

1. 将一个 macro-task 执行并出队
2. 将一队 micro-task 执行并出队
3. 执行渲染操作，更新界面
4. 处理 worker 相关的任务

**渲染时机**

当我们需要在异步任务中实现 DOM 修改时，将其包装成 micro 任务是相对明智的选择，因为更新 DOM 的时间点，更靠近渲染的时机并且一次事件循环就可以将修改好的 DOM 渲染到页面上。

### 异步更新策越----以 Vue 为例

**什么是异步更新**

当我们使用 Vue 或 React 提供的接口去更新数据时，这个更新并不会立即生效，而是会被推入到一个队列里。待到适当的时机，队列中的更新任务会被**批量触发**。这就是异步更新。

**优势**

使用了 JS 引擎为渲染引擎分担“压力”，只将最后的结果交给渲染引擎

**Vue 状态更新手法：nextTick**

Vue 每次想要更新一个状态的时候，会先把它这个更新操作给包装成一个异步操作派发出去。这件事情，在源码中是由一个叫做 nextTick 的函数来完成的：